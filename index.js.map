{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '48273516-22e71b99033a61f3653b23d90';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        throw new Error('No images found');\n      }\n      return data.hits;\n    });\n}\n","import iziToast from 'izitoast';\n\nexport function renderGallery(images) {\n  const gallery = document.querySelector('.gallery');\n\n  gallery.innerHTML = '';\n\n  if (images.length === 0) {\n    return;\n  }\n\n  const markup = images\n    .map(\n      image => `\n    <div class=\"gallery-item\">\n      <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-image\" />\n      </a>\n      <div class=\"image-info\">\n        <p><strong>Likes:</strong> ${image.likes}</p>\n        <p><strong>Views:</strong> ${image.views}</p>\n        <p><strong>Comments:</strong> ${image.comments}</p>\n        <p><strong>Downloads:</strong> ${image.downloads}</p>\n      </div>\n    </div>\n  `\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n}\nexport function showErrorMessage(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n    position: 'topRight',\n  });\n}\n\nexport function showLoadingIndicator() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.remove('hidden');\n  } else {\n    console.warn('⚠️ Элемент .loader не найден в DOM.');\n  }\n}\n\nexport function hideLoadingIndicator() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.add('hidden');\n  } else {\n    console.warn('⚠️ Элемент .loader не найден в DOM.');\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport {\n  renderGallery,\n  showErrorMessage,\n  showLoadingIndicator,\n  hideLoadingIndicator,\n} from './js/render-functions.js';\n\nconst form = document.getElementById('search-form');\nconst input = document.getElementById('search-input');\nconst gallery = document.querySelector('.gallery');\n\nlet lightbox = null;\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n  const query = input.value.trim();\n\n  if (query === '') {\n    showErrorMessage('Please enter a search query');\n    return;\n  }\n\n  gallery.innerHTML = '';\n  console.log('Показать индикатор загрузки');\n  showLoadingIndicator();\n\n  try {\n    const images = await fetchImages(query);\n    console.log('Полученные изображения:', images);\n\n    if (images.length === 0) {\n      showErrorMessage(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n      return;\n    }\n\n    renderGallery(images);\n\n    if (!lightbox) {\n      lightbox = new SimpleLightbox('.gallery a');\n    } else {\n      lightbox.refresh();\n    }\n  } catch (error) {\n    console.error('Ошибка запроса:', error);\n    showErrorMessage('An error occurred. Please try again later.');\n  } finally {\n    hideLoadingIndicator();\n  }\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","data","renderGallery","images","gallery","markup","image","showErrorMessage","message","iziToast","showLoadingIndicator","loader","hideLoadingIndicator","form","input","lightbox","event","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAC1CG,CACD,CAAA,2DAED,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MAAM,iBAAiB,EAEnC,OAAOA,EAAK,IAClB,CAAK,CACL,CCnBO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAIjD,GAFAA,EAAQ,UAAY,GAEhBD,EAAO,SAAW,EACpB,OAGF,MAAME,EAASF,EACZ,IACCG,GAAS;AAAA;AAAA,iBAEEA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,qCAGrBA,EAAM,KAAK;AAAA,qCACXA,EAAM,KAAK;AAAA,wCACRA,EAAM,QAAQ;AAAA,yCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAInD,EACA,KAAK,EAAE,EAEVF,EAAQ,UAAYC,CACtB,CACO,SAASE,EAAiBC,EAAS,CACxCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,SAAU,UACd,CAAG,CACH,CAEO,SAASE,GAAuB,CACrC,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,EACFA,EAAO,UAAU,OAAO,QAAQ,EAEhC,QAAQ,KAAK,qCAAqC,CAEtD,CAEO,SAASC,GAAuB,CACrC,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,EACFA,EAAO,UAAU,IAAI,QAAQ,EAE7B,QAAQ,KAAK,qCAAqC,CAEtD,CC3CA,MAAME,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAQ,SAAS,eAAe,cAAc,EAC9CV,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIW,EAAW,KAEfF,EAAK,iBAAiB,SAAU,MAAMG,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMlB,EAAQgB,EAAM,MAAM,KAAI,EAE9B,GAAIhB,IAAU,GAAI,CAChBS,EAAiB,6BAA6B,EAC9C,MACD,CAEDH,EAAQ,UAAY,GACpB,QAAQ,IAAI,6BAA6B,EACzCM,IAEA,GAAI,CACF,MAAMP,EAAS,MAAMN,EAAYC,CAAK,EAGtC,GAFA,QAAQ,IAAI,0BAA2BK,CAAM,EAEzCA,EAAO,SAAW,EAAG,CACvBI,EACE,0EACR,EACM,MACD,CAEDL,EAAcC,CAAM,EAEfY,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAIE,EAAe,YAAY,CAI7C,OAAQC,EAAO,CACd,QAAQ,MAAM,kBAAmBA,CAAK,EACtCX,EAAiB,4CAA4C,CACjE,QAAY,CACRK,GACD,CACH,CAAC"}